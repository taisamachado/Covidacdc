<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Conecta Comunidade - Cadastro Líder de Rua</title>



<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round|Open+Sans">
<link rel="stylesheet" href="css/font/materialIcons.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">



<link rel="stylesheet" href="node_modules/bootstrap/compiler/bootstrap.css">
<link rel="stylesheet" href="node_modules/bootstrap/compiler/style.css">

<script src="node_modules/jquery/dist/jquery.js"></script>
<script src="node_modules/popper.js/dist/popper.js"></script>
<script src="node_modules/bootstrap/dist/js/bootstrap.js"></script>




<link rel="stylesheet" type="text/css" href="style/style.css">
<!-- <script src="js/tabela.js"></script> -->
<!-- Bootstrap CSS -->
<!-- <link rel="stylesheet" href="node_modules/bootstrap/compiler/bootstrap.css">
<link rel="stylesheet" href="node_modules/bootstrap/compiler/style.css">
 -->

</head>

<!-- Navigation -->
<nav
	class="navbar navbar-expand-sm navbar-dark bg-dark static-top fixed-top">
	<div class="container">
		<div class="collapse navbar-collapse" id="navbarResponsive">
			<ul class="navbar-nav ml-auto">
				<li class="nav-item"><a class="nav-link" href="#"> <img
						src="logo.jpg" class="img-fluid rounded-circle" width="30"
						height="30" alt="logo" loading="lazy"></a></li>
				<li class="nav-item active"><a class="nav-link"
					href="InicioLogado.html">Início</a></li>
				<li class="nav-item"><a class="nav-link" href="./index.html">Logout</a>
				</li>
			</ul>
		</div>
	</div>
</nav>



<body>

	<div class="container">
		<div class="table-wrapper">
			<div class="table-title">
				<div class="row">
					<div class="col-sm-8">
						<h2>
							Cadastro <b>Líder de Rua</b>
						</h2>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-12 col-md-6" id="dados">

					<div class="card-body">
						<form id="form">
							<!-- trazer as informações para os values a seguir do banco de dados -->
							<div class="form-group">
								<label>Nome</label> 
								<input type="text" class="form-control"
									id="nome" value="" placeholder="Digite o nome">
							</div>

							<div class="form-group">
								<label>Endereço</label> <input type="text" class="form-control"
									id="logradouro" value="" placeholder="Digite o endereço">
							</div>

							<div class="form-group">
								<label>Número</label> <input type="text" class="form-control"
									id="numero" placeholder="Digite número">
							</div>

							<div class="form-group">
								<label>CEP</label> <input type="text" class="form-control"
									id="cep" placeholder="Digite o CEP">
							</div>

							<div class="form-group">
								<label>Telefone de contato</label> <input type="text" class="form-control" 
									id="telefone"
									placeholder="Digite o telefone">
							</div>

							<div class="form-group">
								<label>e-mail</label> <input type="text" class="form-control"
									id="email" placeholder="Digite o e-mail">
							</div>

							<div class="form-group">
								<label>Data de Nascimento</label> <input type="text" class="form-control" 
									id="data_nascimento" value=""
									placeholder="Digite a data de nascimento">
							</div>

							<div class="form-group">
								<label>RG</label> <input type="text" class="form-control"
									id="rg" placeholder="Digite o RG">
							</div>


							<div class="form-group">
								<label>CPF</label> <input type="text" class="form-control"
									id="cpf" placeholder="Digite o CPF">
							</div>


							<div class="form-group">
								<label class="control-label" for="submit"></label>
								<div>
									<button type="submit" class="btn btn-success">Salvar</button>
									<button type="button" class="btn btn-danger"
										onclick=" tabelaVoluntario()">Cancelar</button>
								</div>
							</div>
						</form>
					</div>
				</div>

				<div class="col-sm-12 col-md-6">

					<div class="card-body">
						<form>

							<div class="form-group">
								<label>Nome agente comunitário de saúde</label> <input type="text" class="form-control" 
									id="agente_comunitario_de_saude"
									placeholder="Digite o nome do agente comunitário de saúde">
							</div>

							<div class="form-group">
								<label for="comment">Observações</label>
								<textarea class="form-control" rows="24" id="observacoes"
									style="resize: none;"></textarea>
							</div>

							<div class="custom-control custom-switch">
								<input type="checkbox" class="custom-control-input"
									id="status" data-size="lg"> <label
									class="custom-control-label" for="status">Líder
									de Rua ativo?</label>
							</div>

						</form>
					</div>

				</div>

				<div class="col-md-12 col-lg-3"></div>

				<div class="col-md-12 col-lg-2">
					<div class="card-body">
						<form>
							<div class="form-group">
								<button type="submit" class="btn btn-outline-primary  btn-block"
									style="visibility: hidden;">Salvar</button>
							</div>
						</form>
					</div>
				</div>

				<div class="col-md-12 col-lg-2">
					<div class="card-body">
						<form>
							<div class="form-group">
								<button type="submit" class="btn btn-outline-primary  btn-block"
									style="visibility: hidden;">Aprovado</button>
							</div>
						</form>
					</div>
				</div>

				<div class="col-md-12 col-lg-2">
					<div class="card-body">
						<form>
							<div class="form-group">
								<button type="submit" class="btn btn-outline-primary  btn-block"
									style="visibility: hidden;">Rejeitado</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<style>
body {
	padding-top: 70px;
}

navbar-expand {-sm |-md|-lg|-xl
	
}

.container {
	width: 100%;
	padding-right: 15px;
	padding-left: 15px;
	margin-right: auto;
	margin-left: auto;
}
</style>

		<script>
			function tabelaVoluntario() {
				location.href = "gridVoluntario.html";
			}
			
			fetch("https://mu5n9wq45h.execute-api.us-east-1.amazonaws.com/beta/api/lideresDeRua").then(
					res=>{
						res.json().then(
						
						data=>{
							console.log(localStorage["id"]);
							
							id = localStorage["id"];
							nome = localStorage["nome"];
							logradouro = localStorage["logradouro"];
							numero = localStorage["numero"];	
							cep = localStorage["cep"];	
							telefone = localStorage["telefone"];
							
							email = localStorage["email"];
							data_nascimento = localStorage["data_nascimento"];	
							rg = localStorage["rg"];	
							cpf = localStorage["cpf"];	
							agente_comunitario_de_saude = localStorage["agente_comunitario_de_saude"];
							observacoes = localStorage["observacoes"];
							status = localStorage["status"];
							
								data.forEach((u)=>{
										document.getElementById("nome").value= nome;
										document.getElementById("logradouro").value=logradouro;
										document.getElementById("numero").value=numero;
										document.getElementById("cep").value=cep;
										document.getElementById("telefone").value=telefone;
										
										document.getElementById("email").value=email;
										document.getElementById("data_nascimento").value=data_nascimento;
										document.getElementById("rg").value=rg;
										document.getElementById("cpf").value=cpf; 
										document.getElementById("agente_comunitario_de_saude").value=agente_comunitario_de_saude;
										document.getElementById("observacoes").value=observacoes;
										document.getElementById("status").value=status;
									
									if(document.getElementById("status").value=="Ativo" || document.getElementById("status").value=="A"){
										document.getElementById("status").checked = true;
									}
								});
									
						}
						
						
						)}
			
			)
			
			
			
			//Fetch post request
			
			
// 			const form = document.getElementById("form")
			
// 			form.addEventListener('submit', function(e){
				
// 				e.preventDefault()
				
// 				var id = localStorage["id"];			
// 				var nome =document.getElementById("nome").value
// 				var logradouro =document.getElementById("logradouro").value
// 				var numero =document.getElementById("numero").value
// 				var cep =document.getElementById("cep").value
// 				var telefone =document.getElementById("telefone").value
// 				var email =document.getElementById("cep").value
// 				var data_nascimento =document.getElementById("cep").value
// 				var rg =document.getElementById("rg").value
// 				var cpf =document.getElementById("cpf").value
// 				var agente_comunitario_de_saude =document.getElementById("agente_comunitario_de_saude").value
// 				var observacoes =document.getElementById("observacoes").value
// 				var status =localStorage["status"];
				
				

			    
// 			        $(document).ready(function() {
// 			            $('#submit').click(  function () {
// 			                console.log("click");
// 			                var sendData = $("id":id,
// 		 							"nome":nome,
// 		 							"logradouro":logradouro,
// 		 							"numero":numero,
// 		 							"cep":cep,
// 		 							"telefone":telefone,
// 		 							"email":email,
// 		 							"data_nascimento":data_nascimento,
// 		 							"rg":rg,
// 		 							"cpf":cpf,
// 		 							"agente_comunitario_de_saude":agente_comunitario_de_saude,
// 		 							"observacoes":observacoes).val();

// 			                $.ajax({
// 			                    url: 'https://2ptxvoto85.execute-api.us-east-1.amazonaws.com/producao/api/liderDeRua',    //Your api url
// 			                    type: 'POST',   //type is any HTTP method
// 			                    data: {
// 			                        data: sendData
// 			                    },      //Data as js object
// 			                    success: function () {
// 			                    }
// 			                })
// 			                ;

// 			            });
// 			        });
				
				
// 				 const todo = {
					
// 					   "id":"9",
// 					    "lider_de_rua_id":"1",
// 					    "nome_do_representante_de_familia":"John",
// 					    "logradouro":"testing",
// 					    "numero":"123",
// 					    "complemento":"testing",
// 					    "ponto_de_referencia":"testing",
// 					    "telefone":"123456789",
// 					    "data_nascimento":"123",
// 					    "rg":"123356789",
// 					    "cpf":"123356789",
// 					    "numero_criancas":"0",
// 					    "numero_adultos":"1",
// 					    "numero_idosos":"0",
// 					    "numero_habitantes_total":"1",
// 					    "observacoes":"testing" 
// // 						"id": 11,
// // 						  "nome": "Altera Lider teste Novo Ana",
// // 						  "logradouro": "rua alterada teste novo",
// // 						  "numero": 0,
// // 						  "cep": "7905233",
// // 						  "telefone": "8877665656",
// // 						  "email": "teste@teste.com",
// // 						  "data_nascimento": "13/11/1875",
// // 						  "rg": "6555",
// // 						  "cpf": "5433223445",
// // 						  "agente_comunitario_de_saude": "jose das couves",
// // 						  "observacoes": "teste",
// // 						  "status": "A"
// 					}; 
				
// 				 fetch("https://8qs23g7t0m.execute-api.us-east-1.amazonaws.com/prod/api/familia", {
// 			        method: 'POST',
// 			        body: JSON.stringify(todo),
// 			        headers: {
// 			        	"Access-Control-Allow-Origin":"*","X-Amzn-Trace-Id":"Root=1-5f282dcb-9a0b98c3d96a6d05c7ef4359;Sampled=0","Content-Type":"application/json"
// 			        }
// 			    })
// 			    .then(response => response.json())
// 			    .then(json => {
// 			        console.log(json);
// 			    }); 
				
// 				alert(nome);
				
// 				fetch("https://2ptxvoto85.execute-api.us-east-1.amazonaws.com/producao/api/liderDeRua",{
// 						method: 'put',
// 						body:JSON.stringify({
// 							"id":id,
// 							"nome":nome,
// 							"logradouro":logradouro,
// 							"numero":numero,
// 							"cep":cep,
// 							"telefone":telefone,
// 							"email":email,
// 							"data_nascimento":data_nascimento,
// 							"rg":rg,
// 							"cpf":cpf,
// 							"agente_comunitario_de_saude":agente_comunitario_de_saude,
// 							"observacoes":observacoes				
							
				
// 						}),
// 						headers:{
							
// 							"Content-Type":"application/json",
// 							"Access-Control-Allow-Origin" : "*", // Required for CORS support to work
// 						    "Access-Control-Allow-Credentials" : true 
// 						}
						
// 			})
// 			.then(function(response){
// 				console.log(response)
// 				return response.json()
// 			})
// 			.then(function(data){
// 				console.log(data)
// 			})
			
// 			})
			
		</script>
		
		
		
		<!-- Optional JavaScript -->
		<!-- jQuery first, then Popper.js, then Bootstrap JS -->
		<script src="node_modules/jquery/dist/jquery.js"></script>
		<script src="node_modules/popper.js/dist/popper.js"></script>
		<script src="node_modules/bootstrap/dist/js/bootstrap.js"></script>
		<!-- Script Jquery mask -->
		<script src="node_modules/jquery/dist/jquery.mask.min.js"></script>
</body>
</html>
